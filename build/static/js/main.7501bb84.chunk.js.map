{"version":3,"sources":["components/Title.js","components/ShowPersons.js","components/Filter.js","components/Form.js","components/SuccessNotification.js","components/ErrorNotification.js","services/persons.js","App.js","index.js"],"names":["Title","text","ShowPersons","persons","filter","removePerson","map","person","name","toLowerCase","includes","number","type","onClick","id","Filter","handleFilterChange","onChange","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","SuccessNotification","message","className","ErrorNotification","baseUrl","axios","get","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","event","target","console","log","preventDefault","window","confirm","updateperson","find","personObject","newPersons","Number","setTimeout","catch","error","concat","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7501bb84.chunk.js","sourcesContent":["const Title = ({ text }) => {\n    return (\n        <h2>{text}</h2>\n    )\n}\n\nexport default Title","const ShowPersons = ({ persons, filter, removePerson }) => {\n    return (\n        <div>\n            <ul>\n                {persons.map(person => {\n                    if (person.name.toLowerCase().includes(filter.toLowerCase())) {\n                        return <p key={person.id}>\n                            {person.name} {person.number} <button type=\"button\" onClick={() => removePerson(person.id)}>delete</button>\n                        </p>\n                    } return <p></p>\n                })}\n            </ul>\n        </div>\n    )\n}\n\nexport default ShowPersons","const Filter = ({ handleFilterChange }) => {\n    return (\n        <div>\n            filter shown with\n            <input onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter","const Form = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n                <div>\n                    name:\n            <input value={newName} onChange={handleNameChange} /> <br></br>\n            number:\n            <input value={newNumber} onChange={handleNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Form","\nconst SuccessNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className='successNotification'>\n            {message}\n        </div>\n    )\n}\n\nexport default SuccessNotification","\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className='errorNotification'>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import axios from 'axios'\n\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://mysterious-reef-29772.herokuapp.com/'\nconst baseUrl = '/api/persons' //suhteellinen url, sillÃ¤ front- ja backend toimivat samassa osoitteessa\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n     return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Title from './components/Title'\nimport ShowPersons from './components/ShowPersons'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\nimport personService from './services/persons'\nimport './index.css'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    console.log(\"ADDED PERSON\")\n    event.preventDefault()\n    if (persons.map(person => person.name).includes(newName)) {\n      const replace = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (replace) {\n        const updateperson = persons.find(person => person.name === newName)\n        const personObject = {\n          name: updateperson.name,\n          number: newNumber\n        }\n        personService\n          .update(updateperson.id, personObject)\n          .then(response => {\n            console.log('update response', response)\n            const newPersons = persons.map(person => Number(updateperson.id) === Number(person.id) ? personObject : person)\n            setPersons(newPersons)\n            setSuccessMessage(\n              `Number changed for ${newName}`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            const newPersons = persons.filter(person => person.name !== newName)\n            setPersons(newPersons)\n            setErrorMessage(`Information of ${newName} has already removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(\n            `${newName} added`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const removePerson = (id) => {\n    console.log(\"DELETE-BUTTON PRESSED 4 id = \", id)\n    //event.preventDefault()\n    //const id = event.target.value\n    const person = persons.find(p => (p.id) === (id))\n    console.log(\"Persons\", persons)\n    console.log(\"Person\", person)\n    const returnvalue = window.confirm(`Delete ${person.name}`)\n    if (returnvalue) {\n      personService\n        .remove(id)\n        .then(response => {\n          const newPersons = persons.filter(person => (person.id) !== (id))\n          setPersons(newPersons)\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(\n            `Deleted ${person.name}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n    }\n\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <Title text=\"Phonebook\" />\n      <SuccessNotification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter handleFilterChange={handleFilterChange} />\n      <Title text=\"add new person\" />\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      <Title text=\"Numbers\" />\n      <ShowPersons persons={persons} filter={filter} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}